Changes in this fork (2025-10-20)

Summary
- Switch Matplotlib to the inline backend in notebooks (replace original nbAgg) to avoid the "IPython is not defined" error in JupyterLab/Binder and ensure figures display inline.
- Fix Matplotlib animation marker updates to pass sequences, not scalars, to Line2D.set_data.
- Silence Python 3.12/3.13 SyntaxWarning from invalid escape sequences in TeX-like math strings by using raw strings.
- Make derivative plotting variable names consistent (use df_num/df_ana where computed).

Details
1) Use inline backend for Matplotlib (replace nbAgg)
- What: Original notebooks configured nbAgg, which depends on classic Notebook JS (global IPython) and fails in JupyterLab.
- How: Configure %matplotlib inline in the first code cell so figures render inline.
- Notebooks updated (first configuration cell):
  - Notebooks4Coursera/W5/W5_ps_cheby_derivative_solution.ipynb
  - Notebooks4Coursera/W5/W5_ps_fourier_acoustic_1d.ipynb
  - Notebooks4Coursera/W5/W5_ps_fourier_acoustic_2d.ipynb
  - Notebooks4Coursera/W6/W6_fe_static_elasticity.ipynb
  - Notebooks4Coursera/W7/W7_fe_elastic_1d_solution.ipynb
  - Notebooks4Coursera/W8/W8_se_numerical_integration_GLL.ipynb
  - Notebooks4Coursera/W9/W9_se_hetero_1d_solution.ipynb
  - Notebooks4Coursera/W9/W9_se_homo_1d_solution.ipynb

2) Animation set_data sequence fix
- What: Matplotlib Line2D.set_data expects sequences (x, y). Some helpers passed scalars like time[it] and seis[it].
- How: Wrap scalar values in single-element lists.
- Files changed:
  - Notebooks4Coursera/W3/animation.py: up22.set_data([time[it]], [seis[it]])
  - Notebooks4Coursera/W4/animation.py: up42.set_data([time[it]], [seis_results[n][it]])

3) TeX-like label/title raw string fix
- What: Strings with backslashes (e.g. "\\lambda") in plt.title/xlabel/ylabel produced SyntaxWarning on newer Python.
- How: Prefix such strings with r'' so backslashes are preserved, or double the backslashes where appropriate.
- Notebooks updated (code cells only):
  - Notebooks4Coursera/W2/W2_P1.ipynb
  - Notebooks4Coursera/W5/W5_ps_cheby_derivative_solution.ipynb
  - Notebooks4Coursera/W9/W9_se_homo_1d_solution.ipynb
  - Notebooks4Coursera/W9/W9_se_hetero_1d_solution.ipynb

- Additionally corrected a mixed raw+double-escape mathtext label in:
  - Notebooks4Coursera/W5/W5_ps_cheby_derivative_solution.ipynb (ylabel changed to r'$\partial_x f(x)$')

4) Derivative variable name consistency
- What: Plotting cells referenced df_numeric/df_analytic, while earlier cells defined df_num/df_ana, causing NameError.
- How: Use the computed names df_num and df_ana in plotting.
- Notebooks updated:
  - Notebooks4Coursera/W5/W5_ps_cheby_derivative_solution.ipynb (plotting cell)

5) Minimal import fixes for Fourier acoustic 1D notebook
- What: Runtime NameErrors due to missing imports for ricker, ProgressBarHandler, math, and display/HTML used later in the notebook.
- How: Added the following to the first configuration cell so later cells run without modification: `import math`, `from IPython.display import display, HTML`, `from ricker import ricker`, `from progress_bar import ProgressBarHandler`.
- Notebook updated:
  - Notebooks4Coursera/W5/W5_ps_fourier_acoustic_1d.ipynb (first code cell)

6) Minimal import fixes for Fourier acoustic 2D notebook
- What: Same runtime NameErrors in the 2D notebook (missing ricker, ProgressBarHandler, math, and display/HTML).
- How: Added the same imports to the first configuration cell so later cells run without modification.
- Notebook updated:
  - Notebooks4Coursera/W5/W5_ps_fourier_acoustic_2d.ipynb (first code cell)

7) Minimal import fixes for FE static elasticity notebook
- What: Runtime NameErrors due to missing imports for ProgressBarHandler, math, and display/HTML used later in the notebook. Missing imports caused the simulation cell to fail, so `u_results` was never created, leading to a KeyError in the animation cell.
- How: Added `import math`, `from IPython.display import display, HTML`, and `from progress_bar import ProgressBarHandler` to the first configuration cell.
- Notebook updated:
  - Notebooks4Coursera/W6/W6_fe_static_elasticity.ipynb (first code cell)

8) Matplotlib redundant color argument fix
- What: A plot specified both a format string with color ('k-') and a color keyword, triggering a redundancy warning.
- How: Use only the keyword with a neutral fmt ('-') for the interpolating function.
- Notebook updated:
  - Notebooks4Coursera/W8/W8_se_Lagrange_interpolation_simple.ipynb (plotting cell)

9) Minimal import fixes for W8 numerical integration (GLL)
- What: NameErrors for missing `gll` and `lagrange2` functions used in the notebook.
- How: Added `from gll import gll` and `from lagrange2 import lagrange2` to the first configuration cell.
- Notebook updated:
  - Notebooks4Coursera/W8/W8_se_numerical_integration_GLL.ipynb (first code cell)

10) Minimal import fixes for W9 SEM homogeneous 1D
- What: NameErrors for missing utilities used later (math.ceil, display/HTML, progress bar, Ricker source, GLL points, Lagrange 1st derivative).
- How: Added `import math`, `from IPython.display import display, HTML`, `from progress_bar import ProgressBarHandler`, `from ricker import ricker`, `from gll import gll`, and `from lagrange1st import lagrange1st` to the first configuration cell.
- Notebook updated:
  - Notebooks4Coursera/W9/W9_se_homo_1d_solution.ipynb (first code cell)

11) Minimal import fixes for W9 SEM heterogeneous 1D
- What: Same class of NameErrors as homogeneous case for required helpers.
- How: Added the same imports to the first configuration cell.
- Notebook updated:
  - Notebooks4Coursera/W9/W9_se_hetero_1d_solution.ipynb (first code cell)

12) W9 SEM: define sizes and assemble matrices before use, and ensure ani is created before display
- What: M/K/Minv/gn not defined early caused plot/time-loop errors; ani created after display caused NameError.
- How: Inserted an assembly cell after setup to define `ng`, allocate and assemble `M`, `K`, compute `Minv`, and set `J`, `Ji`, `W`. Also added explicit creation of `ani` before `display(HTML(...))` in display cells.
- Notebooks updated:
  - Notebooks4Coursera/W9/W9_se_homo_1d_solution.ipynb (assembly cell after setup; create ani before display)
  - Notebooks4Coursera/W9/W9_se_hetero_1d_solution.ipynb (assembly cell after setup; create ani before display)

13) W9: mass/stiffness title mathtext and hetero assembly ordering guard
- What: Mass/Stiffness plot titles had over-escaped mathtext; hetero assembly could run before vs/rho became arrays causing TypeError.
- How: Standardized titles to r'Mass Matrix $\mathbf{M}$' and r'Stiffness Matrix $\mathbf{K}$'. Added guards at the top of the hetero assembly cell to expand scalar vs/rho to arrays and recompute mu.
- Notebooks updated:
  - Notebooks4Coursera/W9/W9_se_homo_1d_solution.ipynb (titles)
  - Notebooks4Coursera/W9/W9_se_hetero_1d_solution.ipynb (titles; assembly guards)
